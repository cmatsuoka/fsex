
fsex (from Fantom SysEx, previously gsex from Juno-G SysEx) is a set of
utilities to manipulate libraries and send patches to the Fantom, Juno-G
and other XV-based Roland synths, written to avoid rebooting to Windows
every time I want to upload patches from a librarian file to the synthesizer.

The name is inspired by the Virus SysEX dump utility, vsex.

**Note**: fsex is currently under development and was only tested with the
Juno-G, but should work with minor changes with other devices.

Get the latest version using:

	$ git clone http://helllabs.org/git/fsex.git

Send comments and patches to cmatsuoka@gmail.com


Kernel patch
============

Linux kernels 2.6.21 and earlier (at least) require a patch written by
Alexandre Jousset to properly recognize the Juno-G. See alsa-junog.patch
for further information. Apply it with:

# cd /usr/src/linux-${version}
# patch -p1 < alsa-junog.patch


ALSA MIDI client
================

Certain operations require the ALSA MIDI port address where the synthesizer
is connected in client:port format. The address can be obtained using the
"aconnect" utility:

$ aconnect -o
client 14: 'Midi Through' [type=kernel]
    0 'Midi Through Port-0'
client 20: 'Juno-G' [type=kernel]
    0 'Juno-G MIDI 1   '

In this case the address of the Juno-G MIDI port is 20:0 or Juno-G:0


Listing patches from a .jgl file
================================

flib can be used to list the contents of a .jgl/fxl/fsl file. To do so, run
it with the -l parameter:

$ flib -l xv_collection.jgl
File format: Juno-G librarian file
Num patches: 1024

Pat#  Cat  Patch name   M/P Part  Waveform 1 Waveform 2 Waveform 3 Waveform 4
----- ---- ------------- -- ----- ---------- ---------- ---------- ----------
0001  PNO  Standard Pno  P  -2--  (unset)    JD Piano A (unset)    (unset)
0002  PNO  Bright Piano  P  -2--  (unset)    JD Piano A (unset)    (unset)
0003  PNO  Classique     P  12--  Ac.Pno f A JD Piano A (unset)    (unset)
0004  PNO  Nice Piano    P  1-34  JD Piano A JD Piano A JD Piano B Piano Atk
0005  PNO  Piano Thang   P  123-  JD Piano A MKS Piano  JD Piano A (unset)
...


Sending a patch via SysEx
=========================

You can send a patch from a .jgl file to the Juno-G with fsex using the -s
parameter:

$ fsex -a 20:0 -s 538 xv_collection.jgl
File format: Juno-G librarian file
Num patches: 1024
Send to MIDI address 20:0
Send patch 0538: PhazeWahClav (KEY)


Request identification
======================

fsex sends a identification request SysEx message if invoked with -D. This
can be used later to issue a warning if the user attempts to send data from
a library made for a different model. Currently family and model numbers
are displayed as hex (it should be changed to a more descriptive text later).

$ fsex -D
Send to MIDI address 20:0
Identification reply
 Device Id     : 10
 Manufacturer  : Roland
 Family number : 15 02
 Model number  : 00 00
 Version       : 00 03 00 00

